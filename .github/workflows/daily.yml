name: Slack Quote Bot

on:
  schedule:
    # Check every 30 minutes in a UTC window that covers 9amâ€“5pm Adelaide
    # We include Sun+Mon UTC to catch Monday (local), and Thu+Fri UTC to catch Friday (local).
    - cron: "0,30 22-23,0-8 * * 0,1"
    - cron: "0,30 22-23,0-8 * * 4,5"
  workflow_dispatch:

jobs:
  post:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: "3.11"
      - run: pip install slack_sdk
      - run: python post_quote.py
        env:
          SLACK_BOT_TOKEN: ${{ secrets.SLACK_BOT_TOKEN }}
          SLACK_CHANNEL: ${{ secrets.SLACK_CHANNEL }}
          SCHEDULE_SEED: ${{ secrets.SCHEDULE_SEED }}
